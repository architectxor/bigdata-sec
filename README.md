# Отчет по лабораторной работе №7 "Запуск эксплоитов на вирутальной машине, контролируемой Falco"
В данной лабораторной работе нам необходимо произвести запуск эксплойтов в контейнере и убедиться в том, что работа эксплоита заметна в сервисах для мониторинга Grafana и Prometheus, которые расположены на удаленной машине.

Для этих целей мною использовался эксплоит из репозитория, расположенного по адресу:
https://github.com/Frichetten/CVE-2019-5736-PoC

Загруженный эксплойт необходимо скомпилировать, сделать это можно командой `go build main.go`, находясь в папке с исходным файлом эксплойта.


Перед запуском эксплоита мы можем видеть, какие срабатывания Falco отображаются на графиках сервисов мониторинга, на рисунке 1 - Grafana Falco Dashboard, на рисунке 2 - Prometheus.


![grafana-before-exploit](https://user-images.githubusercontent.com/49113443/146674171-4f6e95a4-4e3e-488c-b1d3-c5c0c43ffb33.png)
Рисунок 1 - Данные с Grafana Dashboard.


![prom-before-exploit](https://user-images.githubusercontent.com/49113443/146674180-caec1203-9f38-4c16-bf75-560323b0ab22.png)
Рисунок 2 - Данные с Prometheus.


Для запуска эксплоита нам необходимо находится в директории с заранее скомпилированным эксплоитом, в первом терминале, как показано на рисунке 3 запустим контейнер, к которому примонтируем директорию с эксплойтом. Затем запустим эксплойт, который будет ожидать до тех пор, пока мы не выполним команду `docker exec ...` для этого контейнера из второго терминала, как показано на рисунке 4.


![first-terminal](https://user-images.githubusercontent.com/49113443/146674303-a84e1d97-34d8-4437-8543-fbd6ab2b0675.png)
Рисунок 3 - Запуск контейнера с эксплоитом.


![second-terminal](https://user-images.githubusercontent.com/49113443/146674306-2386cc2f-7b35-47e6-9621-61d2099524f4.png)
Рисунок 4 - Выполнение команды, вызывающее срабатывание эксплоита.


После успешного запуска эксплоита, как показано на рисунках 5 и 6, для Prometheus и Grafana соответственно, мы можем видеть отразившиеся на графиках изменения, которые вызваны работой эксплоита.


![prom-after-exploit](https://user-images.githubusercontent.com/49113443/146674413-a39a5673-166b-40b3-927d-cd626480c160.png)
Рисунок 5 - Изменения на графике, вызванные работой эксплоита в Prometheus.


![grafana-after-exploit](https://user-images.githubusercontent.com/49113443/146674422-d7e6e9ae-fb1a-4c8f-bcec-85ecde5d41c1.png)
Рисунок 6 - Изменения на графике, вызванные работой эксплоита в Grafana.


**Вывод:** В данной работе мы произвели запуск эксплоита и убедились, что его действие отображается в мониторинговых системах, что в дальнейшем будет использовано нами для обучения модели.
